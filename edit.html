<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8" />
  <title>Редактор Wordsearch by Nika Shum</title>
  <link href="https://fonts.googleapis.com/css2?family=Orbitron:wght@600&family=Comic+Neue:wght@700&family=Press+Start+2P&family=Cinzel:wght@700&family=Luckiest+Guy&family=Chewy&family=Fredoka&family=Noto+Sans+JP&family=Noto+Sans+SC&display=swap" rel="stylesheet" />
  <style>
    body {
      font-family: 'Comic Neue', sans-serif;
      background: #0b0b0f;
      color: white;
      margin: 0;
      padding: 20px;
      display: flex;
      gap: 30px;
    }
    #editor {
      flex: 1;
      max-width: 500px;
    }
    label {
      display: block;
      margin-top: 15px;
      font-weight: bold;
    }
    input[type="text"], input[type="color"], select, input[type="number"] {
      width: 100%;
      padding: 8px;
      margin-top: 5px;
      border-radius: 6px;
      border: none;
      font-size: 16px;
    }
    #preview {
      flex: 1;
      min-height: 500px;
      border: 3px solid #00ffff;
      border-radius: 12px;
      overflow: hidden;
      box-shadow: 0 0 20px #00ffff;
    }
    iframe {
      width: 100%;
      height: 100%;
      border: none;
    }
    textarea {
      width: 100%;
      height: 100px;
      margin-top: 15px;
      font-size: 14px;
    }
    .logo {
      font-family: 'Orbitron', sans-serif;
      font-size: 22px;
      color: #00ffff;
      margin-bottom: 20px;
    }
  </style>
</head>
<body>
  <div id="editor">
    <div class="logo">Корпорация Геймификации Будущего</div>

    <label>Слова (через запятую):</label>
    <input type="text" id="words" value="МАМА,ПАПА,СЫР" />

    <label>Финальный текст:</label>
    <input type="text" id="winText" value="Все слова найдены!" />

    <label>Язык:</label>
    <select id="lang">
      <option value="ru">Русский</option>
      <option value="en">English</option>
      <option value="de">Deutsch</option>
      <option value="fr">Français</option>
      <option value="es">Español</option>
      <option value="it">Italiano</option>
      <option value="zh">中文</option>
      <option value="ja">日本語</option>
    </select>

    <label>Количество клеток (ширина x высота):</label>
    <input type="number" id="cols" value="10" min="5" max="20" placeholder="Столбцы" />
    <input type="number" id="rows" value="10" min="5" max="20" placeholder="Строки" />

    <label>Тема:</label>
    <select id="theme">
      <option value="light">Светлая</option>
      <option value="dark">Тёмная</option>
      <option value="rainbow">Радужная</option>
    </select>

    <label>Шрифт:</label>
    <select id="font"></select>

    <label>Цвет свечения (glow):</label>
    <input type="color" id="glowColor" value="#00ffff" />

    <label>Цвет фона букв (cellBg):</label>
    <input type="color" id="cellBg" value="#ffffff" />

    <label>Цвет букв (textColor):</label>
    <input type="color" id="textColor" value="#000000" />

    <label>Включить блёстки и вспышку:</label>
    <select id="glossy">
      <option value="1">Да</option>
      <option value="0">Нет</option>
    </select>

    <label>Звуковые эффекты:</label>
    <select id="sound">
      <option value="1">Включены</option>
      <option value="0">Отключены</option>
    </select>

    <label>Код вставки (iframe):</label>
    <textarea readonly id="code"></textarea>
  </div>

  <div id="preview">
    <iframe id="iframe" src=""></iframe>
  </div>

  <script>
    const fontSelect = document.getElementById('font');
    const langSelect = document.getElementById('lang');

    const fontOptions = {
      ru: ["Comic Neue", "Fredoka", "Cinzel"],
      en: ["Comic Neue", "Orbitron", "Luckiest Guy", "Press Start 2P", "Cinzel", "Chewy", "Fredoka"],
      de: ["Comic Neue", "Fredoka", "Cinzel"],
      fr: ["Comic Neue", "Fredoka", "Cinzel"],
      es: ["Comic Neue", "Fredoka", "Cinzel"],
      it: ["Comic Neue", "Fredoka", "Cinzel"],
      zh: ["Noto Sans SC"],
      ja: ["Noto Sans JP"]
    };

    const updateFontOptions = () => {
      const lang = langSelect.value;
      const fonts = fontOptions[lang] || fontOptions["en"];
      fontSelect.innerHTML = "";
      fonts.forEach(font => {
        const option = document.createElement("option");
        option.value = font;
        option.textContent = font;
        fontSelect.appendChild(option);
      });
      update();
    };

    const update = () => {
      const words = document.getElementById('words').value.trim();
      const winText = encodeURIComponent(document.getElementById('winText').value.trim());
      const theme = document.getElementById('theme').value;
      const font = encodeURIComponent(document.getElementById('font').value);
      const glowColor = document.getElementById('glowColor').value;
      const cellBg = document.getElementById('cellBg').value;
      const textColor = document.getElementById('textColor').value;
      const glossy = document.getElementById('glossy').value;
      const sound = document.getElementById('sound').value;
      const lang = document.getElementById('lang').value;
      const rows = document.getElementById('rows').value;
      const cols = document.getElementById('cols').value;

      const params = new URLSearchParams({
        words,
        winText,
        theme,
        font,
        glowColor,
        cellBg,
        textColor,
        glossy,
        sound,
        lang,
        rows,
        cols
      });

      const url = `main.html?${params.toString()}`;
      document.getElementById('iframe').src = url;
      document.getElementById('code').value = `<iframe src="${url}" width="800" height="600" style="border:none;"></iframe>`;
    };

    document.querySelectorAll('input, select').forEach(el => {
      el.addEventListener('input', update);
    });

    langSelect.addEventListener('change', updateFontOptions);

    updateFontOptions();
  </script>
</body>
</html>
